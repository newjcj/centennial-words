# 百年单词 Chrome 扩展程序

“百年单词”是一款 Chrome 浏览器扩展程序，旨在帮助用户快速翻译网页上选中的英文单词，并记录查询历史，方便回顾。

## 主要功能

1.  **右键划词翻译**：在任何网页上选中英文单词，通过右键菜单选择"使用百年单词翻译"，即可快速获取翻译结果。
2.  **对接百度智能云千帆大模型**：利用百度AI的强大能力进行翻译，支持 OpenAI 兼容的 API 格式。
3.  **自定义设置**：
    *   用户可以自行设置百度AI的 API Key。
    *   用户可以修改百度AI的 API Endpoint 地址（默认为千帆推荐的公共服务地址）。
    *   用户可以自定义发送给大模型的系统提示词（System Prompt），以调整翻译风格或特定需求（默认提示词："你是一个经验丰富的英语老师，但是回答很精炼，每次回答不超过50个字，简单的问题不超过15个字"）。
    *   用户可以选择是否在历史记录中显示高级功能（重复次数统计和详细查询记录）。
4.  **翻译结果展示**：翻译结果会以悬浮提示框的形式显示在当前页面，方便用户查看。
5.  **查询历史记录**：
    *   自动记录最近1000条单词查询历史。
    *   每条历史记录包含查询的单词、翻译结果以及查询时间（以"xx分钟前"、"xx小时前"、"xx天前"的形式显示）。
    *   高级历史功能（可在设置中开启或关闭）：
        *   显示单词重复查询次数（超过1次才显示）。
        *   重复次数颜色从蓝色到红色渐变，查询次数越多颜色越红。
        *   提供按时间或重复次数排序选项。
        *   点击"详情"可查看每次查询的具体时间（精确到分钟）。
    *   用户可以通过点击扩展程序图标，在弹出的窗口中查看和清空查询历史。

## 如何打包扩展程序

1.  **打开 Chrome 浏览器**。
2.  在地址栏输入 `chrome://extensions` 并回车，进入扩展程序管理页面。
3.  **启用"开发者模式"**：通常在页面右上角有一个切换开关，请确保它处于开启状态。
4.  **点击"打包扩展程序"按钮**：这个按钮会在启用开发者模式后出现。
5.  **选择扩展程序根目录**：在弹出的对话框中，点击"扩展程序根目录"旁边的"浏览"按钮，然后选择本项目（"百年单词"）的根文件夹 (即包含 `manifest.json` 文件的那个文件夹)。
6.  **私钥文件（可选）**：首次打包时，可以将"私钥文件"字段留空，Chrome 会自动生成一个 `.pem` 文件。如果您之前打包过并希望更新版本，则需要选择之前生成的 `.pem` 文件。
7.  **点击"打包扩展程序"**：Chrome 会在项目根目录的上一级目录生成两个文件：一个 `.crx` 文件（已打包的扩展程序）和一个 `.pem` 文件（私钥，请妥善保管，用于后续更新）。

## 如何安装扩展程序

### 方法一：通过加载已解压的扩展程序（推荐开发和测试时使用）

1.  **打开 Chrome 浏览器**。
2.  在地址栏输入 `chrome://extensions` 并回车，进入扩展程序管理页面。
3.  **启用"开发者模式"**：确保页面右上角的"开发者模式"开关已打开。
4.  **点击"加载已解压的扩展程序"按钮**。
5.  在文件选择对话框中，**选择本项目（"百年单词"）的根文件夹** (即包含 `manifest.json` 文件的那个文件夹)，然后点击"选择文件夹"。
6.  扩展程序"百年单词"将会出现在您的扩展程序列表中，并已启用。

### 方法二：安装已打包的 `.crx` 文件

1.  **获取 `.crx` 文件**：按照"如何打包扩展程序"的步骤生成 `.crx` 文件。
2.  **打开 Chrome 浏览器**。
3.  在地址栏输入 `chrome://extensions` 并回车，进入扩展程序管理页面。
4.  **启用"开发者模式"**（如果尚未启用）。
5.  **将 `.crx` 文件拖拽到扩展程序管理页面**：直接从您的文件管理器中将打包好的 `.crx` 文件拖放到 `chrome://extensions` 页面中。
6.  Chrome 会提示您是否添加该扩展程序，点击"添加扩展程序"即可完成安装。

**注意**：通过拖拽 `.crx` 文件安装的扩展程序，如果不是从 Chrome Web Store 安装的，Chrome 可能会在后续启动时提示"此扩展程序未列在 Chrome 应用商店中，可能是在您不知情的情况下添加的"，并可能禁用它。对于个人使用或小范围分发，这通常不是问题，但公开发布建议通过 Chrome Web Store。

## 使用说明

1.  **首次使用配置**：
    *   安装扩展后，右键点击浏览器右上角的"百年单词"图标，选择"选项"。
    *   在打开的选项页面中，填入您的百度AI API Key。
    *   （可选）您可以修改 API Endpoint 和自定义系统提示词。
    *   您可以选择是否启用高级历史记录功能（重复次数统计和查询时间详情）。
    *   点击"保存设置"。
2.  **翻译单词**：
    *   在任意网页上，用鼠标选中您想要翻译的英文单词。
    *   右键点击选中的单词。
    *   在弹出的菜单中选择"使用百年单词翻译"。
    *   稍等片刻，翻译结果将以小弹窗的形式显示在页面右上角。
3.  **查看历史记录**：
    *   点击浏览器右上角的"百年单词"图标。
    *   在弹出的窗口中，您可以看到最近的查询历史。
    *   如果启用了高级历史功能，您可以：
        *   看到单词的重复查询次数（超过1次才显示）。
        *   使用排序下拉菜单按时间或重复次数排序。
        *   点击"详情"按钮查看每次查询的具体时间。
    *   可以点击"清空历史"按钮来清除所有记录。

希望这款扩展能为您的英语学习和阅读带来便利！